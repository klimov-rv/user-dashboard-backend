# Проект: Бекенд личного кабинета (Node.js + Express)

## Описание

Простой бекенд для личного кабинета пользователя с аутентификацией JWT и хранением данных в JSON-файле.

## Технологии

- **Node.js** + **Express** - серверная платформа и фреймворк
- **bcryptjs** - хеширование паролей
- **jsonwebtoken** - JWT-аутентификация
- **dotenv** - управление переменными окружения
- **nodemon** - автоматическая перезагрузка при разработке

## Установленные зависимости

```json
{
  "dependencies": {
    "bcryptjs": "^3.0.3",
    "dotenv": "^17.2.3",
    "express": "^5.2.1",
    "jsonwebtoken": "^9.0.3"
  },
  "devDependencies": {
    "nodemon": "^3.1.11"
  }
}
```

## Функционал

- [x] Регистрация пользователя (POST /api/register)
- [x] Вход в систему (POST /api/login)
- [x] Просмотр профиля (GET /api/profile) - защищено JWT
- [x] Логаут (POST /api/logout) - защищено JWT
- [x] Хеширование паролей
- [x] Валидация данных
- [ ] Архитектурный стиль - RPC для авторизации и регистрации, REST для всего остального.
- [ ] Все эндпоинты существуют под общим путём /api. Пути ниже относительны его, пример - /api/auth/sign-up.
- [ ] Механизм авторизации - сессии.
- [ ] Формат запросов и ответов - JSON, кроме скачивания и аплоада файлов.

## Структура проекта

```md
/user-dashboard-backend
  /data
    users.json          # Хранилище пользователей
  /middleware
    auth.js            # Middleware проверки JWT
  .env                 # Переменные окружения
  server.js            # Основной файл приложения
  curl.http            # Файл для тестирования API
```

## Быстрый старт

1. Установка: `npm install`
2. Запуск: `npm run dev`
3. Сервер доступен: `http://localhost:5000`

## Тестирование с httpyac

Для тестирования используется файл `curl.http` с запросами для [httpyac](https://httpyac.github.io/guide/examples).

1. Запустите сервер: `npm run dev`
2. Откройте файл `curl.http` в VS Code с установленным расширением httpyac
3. Нажмите "Send Request" над каждым запросом для его выполнения
4. Для теста профиля:
   - Сначала выполните запрос `### Вход в систему`
   - Скопируйте токен из ответа
   - Вставьте его в запрос `### Получение профиля` вместо `<ваш_токен_здесь>`

## Переменные окружения (.env)

```env
JWT_SECRET=your_super_secret_key_here_change_this
PORT=5000
```

## Команды

- `npm run dev` - запуск в режиме разработки
- `npm start` - запуск в production режиме
