# Проект: Бекенд личного кабинета (Node.js + Express)

## Описание

Простой бекенд для личного кабинета пользователя с аутентификацией JWT и хранением данных в JSON-файле.

## Технологии

- **Node.js** + **Express** - серверная платформа и фреймворк
- **bcryptjs** - хеширование паролей
- **jsonwebtoken** - JWT-аутентификация
- **dotenv** - управление переменными окружения
- **nodemon** - автоматическая перезагрузка при разработке

## Чеклист + Функционал

- [x] Все эндпоинты существуют под общим путём `/api`
- [x] Архитектурный стиль - RPC для авторизации и регистрации
  - [x] Регистрация пользователя (POST `/auth/sign-up`)
  - [x] Вход в систему (POST `/auth/sign-in`)
  - [x] Логаут (POST `/auth/sign-out`) - защищено JWT
- [x] Просмотр профиля (GET `/users/me`) - защищено JWT
- [x] Формат запросов и ответов - JSON
- [x] Хеширование паролей
- [x] Валидация данных
- [ ] Механизм авторизации JWT - переделать на сессии.

## Структура проекта

```md
/user-dashboard-backend
/data
users.json # Хранилище пользователей
tokens_bl.json # Black-List отозванных токенов
/middleware
auth.js # Middleware проверки JWT
.env # Переменные окружения
server.js # Основной файл приложения
auth.http # Файл для тестирования API
```

## Быстрый старт

1. Установка: `npm install`
2. Переименовать: `example.env` -> `.env`
3. Запуск: `npm run dev`
4. Сервер доступен: `http://localhost:5000`
5. Тестируем запросы: `auth.http`

## Тестирование с [httpyac](https://httpyac.github.io/guide/examples).

Для тестирования используется файл `auth.http`

1. Запустите сервер: `npm run dev`
2. Откройте файл `auth.http` в VS Code с установленным расширением httpyac
3. Нажмите "Send" над каждым запросом для его выполнения
4. Для теста профиля:
   - Сначала выполните запрос `### Вход в систему`
   - Скопируйте токен из ответа
   - Вставьте его в запрос `### Получение профиля` вместо `<ваш_токен_здесь>`

Тестирование валидации: `auth-validation.http`

## Установленные зависимости

```json
{
  "dependencies": {
    "bcryptjs": "^3.0.3",
    "dotenv": "^17.2.3",
    "express": "^5.2.1",
    "jsonwebtoken": "^9.0.3"
  },
  "devDependencies": {
    "nodemon": "^3.1.11"
  }
}
```

## Команды

- `npm run dev` - запуск в режиме разработки
- `npm start` - запуск в production режиме
